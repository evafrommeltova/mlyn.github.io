<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
      <title>VIRTUÁLNÍ SKANSEN</title>
	  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
      <style>
        body {
            overflow: hidden;           
            margin: 0;
            padding: 0;
			font-family:Helvetica;
			font-size:14px;
			text-align: center;
        }
		
		
	    .footer {
        text-align: center;
  	    padding: 3px;
  		color: white;
      }

      .footer img {
        position: absolute;
        height: 40px;
        margin: 2.5px;
        left: 0;
      }
        #renderCanvas {
            width: 100%;
            height: 100%;
			margin-bottom: 100px;
            touch-action: none;
        }
    </style>

        <script src="https://cdn.babylonjs.com/babylon.js"></script>
		<script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
		<script src="https://code.jquery.com/pep/0.4.3/pep.js"></script>
   </head>

   
<header class="w3-container w3-blue w3-center">
  <h1>VIRTUÁLNÍ SKANSEN – PREZENTACE MODELŮ VENKOVSKÝCH STAVENÍ
</h1>
</header>

<nav>
<div class="w3-bar w3-black">
  <a href="https://evafrommeltova.github.io/mlyn.github.io/index.html" class="w3-bar-item w3-button">Hlavní stránka</a>
  <div class="w3-dropdown-hover">
    <button class="w3-button">Kundratice 60</button>
    <div class="w3-dropdown-content w3-bar-block w3-card-4">
	  <a href="https://evafrommeltova.github.io/mlyn.github.io/info_mlyn.html" class="w3-bar-item w3-button">Informace</a>
      <a href="https://evafrommeltova.github.io/mlyn.github.io/dae_casti.html" class="w3-bar-item w3-button">Rozhraní Three.js</a>
	  <a href="https://evafrommeltova.github.io/mlyn.github.io/babylon.html" class="w3-bar-item w3-button">Rozhraní Babylon.js</a>
      <a href="https://evafrommeltova.github.io/mlyn.github.io/mlyn_v2.html" class="w3-bar-item w3-button">CopperCube</a>
	  <a href="https://evafrommeltova.github.io/mlyn.github.io/virtual.html" class="w3-bar-item w3-button">Virtuální prohlídka - Lapendor</a>
	  <a href="https://evafrommeltova.github.io/mlyn.github.io/marzipano.html" class="w3-bar-item w3-button">Virtuální prohlídka - Marzipano</a>
	  <a href="https://evafrommeltova.github.io/mlyn.github.io/modelo.html" class="w3-bar-item w3-button">Aplikace Modelo</a>
    </div>
  </div>
 <div class="w3-dropdown-hover">
    <button class="w3-button">Chalupa - Hlinsko</button>
    <div class="w3-dropdown-content w3-bar-block w3-card-4">
      <a href="https://evafrommeltova.github.io/mlyn.github.io/babylon_hlinsko.html" class="w3-bar-item w3-button">Rozhraní Babylon.js</a>
    </div>
</div>
  <div class="w3-dropdown-hover">
    <button class="w3-button">Stvolínky</button>
    <div class="w3-dropdown-content w3-bar-block w3-card-4">
      <a href="https://evafrommeltova.github.io/mlyn.github.io/stvolinky.html" class="w3-bar-item w3-button">Rozhraní Three.js</a>
    </div>
  </div>
    <div class="w3-dropdown-hover">
    <button class="w3-button">Ropice</button>
    <div class="w3-dropdown-content w3-bar-block w3-card-4">
      <a href="https://evafrommeltova.github.io/mlyn.github.io/ropice.html" class="w3-bar-item w3-button">Rozhraní Three.js</a>
    </div>
  </div>
</div>
</nav>

<header class="w3-container w3-center">
    <h2>Vizualizace modelu ve formátu glTF v rozhraní Babylon.js</h2>
	<h3>Hlinsko</h3>
</header>

<canvas id="renderCanvas" touch-action="none"></canvas> 

<body>
    <script>
       var canvas = document.getElementById("renderCanvas"); 
        
        
       // scene 
        var createScene = function () {
        engine.enableOfflineSupport = false;
        var scene = new BABYLON.Scene(engine);
        scene.clearColor = new BABYLON.Color3(1, 1, 1); 
    
      
            // camera
            var camera = new BABYLON.ArcRotateCamera("Camera", 2.88*Math.PI/2, 3*Math.PI /2, 1.5, new BABYLON.Vector3(0, 0, 0.5), scene);
            camera.attachControl(canvas, false);
            camera.lowerRadiusLimit = 1;
            camera.upperRadiusLimit = 10;
            camera.wheelDeltaPercentage = 0.01; 
            camera.setTarget(BABYLON.Vector3.Zero());    

            
            // light  
            var light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(1, 1, 1), scene);
            light.intensity = 1.35;
            light.specular = new BABYLON.Color3(.0, .0, .0);    
                       
            var light2 = new BABYLON.PointLight("light", new BABYLON.Vector3( -20, -10, -30), scene);
            light2.intensity = 0.9;
            light2.specular = new BABYLON.Color3(0,0,0); 

						
						BABYLON.SceneLoader.ImportMesh("","./stvolinky/", "hlinsko.gltf", scene, function (myMeshesOne) {
	
						})
	
						// Move the light with the camera
						scene.registerBeforeRender(function () {
						light.position = camera.position;
						})

                        return scene

                };

                /******* End of the create scene function ******/    

            var engine = new BABYLON.Engine(canvas, true, {
			preserveDrawingBuffer: true,
			stencil: true
					})
			var scene = createScene()

            engine.runRenderLoop(function () { // Register a render loop to repeatedly render the scene
                    scene.render();
            });


            window.addEventListener("resize", function () { // Watch for browser/canvas resize events
                    engine.resize();
            });
    </script>

   </body>
   
<div class="footer w3-container w3-blue w3-margin-top">
     <img src="./pictures/cvut_white.png" alt="logo_cvut" />
     <p>© 2021 Eva Frommeltová</p>
</div>

</html>

