<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
      <title>Babylon Template</title>

      <style>
        html, body {
            overflow: hidden;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        #renderCanvas {
            width: 100%;
            height: 100%;
            touch-action: none;
        }
    </style>

        <script src="https://cdn.babylonjs.com/babylon.js"></script>
		<script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>



   </head>

   <body>

    <canvas id="renderCanvas" touch-action="none"></canvas> //touch-action="none" for best results from PEP

    <script>

            var canvas = document.getElementById("renderCanvas"); // Get the canvas element 

    // scene 
        var createScene = function () {
        engine.enableOfflineSupport = false;
        var scene = new BABYLON.Scene(engine);
        scene.clearColor = new BABYLON.Color3(1, 1, 1); 
    
      
            // camera
            var camera = new BABYLON.ArcRotateCamera("Camera", 2.88*Math.PI/2, 3*Math.PI /2, -30, new BABYLON.Vector3(0, 0, 0.5), scene);
            camera.attachControl(canvas, false);
            camera.lowerRadiusLimit = 15;
            camera.upperRadiusLimit = 100;
            camera.wheelDeltaPercentage = 0.01; 
            camera.setTarget(BABYLON.Vector3.Zero());    

            
            // light  
            		var light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(1, 1, 1), scene);
                light.intensity = 1.35;
            	  light.specular = new BABYLON.Color3(.0, .0, .0);    
                       
               	var light2 = new BABYLON.PointLight("light", new BABYLON.Vector3( 0, 0, 0), scene);
                light2.intensity = 0.9;
            	  light2.specular = new BABYLON.Color3(0,0,0); 

						BABYLON.SceneLoader.Append("./stvolinky/", "hlinsko.gltf", scene, function (scene) {
                        // do something with the scene
						});
							
						// Move the light with the camera
						scene.registerBeforeRender(function () {
						light.position = camera.position;
						})
						
                        return scene;

                };

			/******* End of the create scene function ******/    

            var engine = new BABYLON.Engine(canvas, true, {
			preserveDrawingBuffer: true,
			stencil: true
					})
			var scene = createScene()

            engine.runRenderLoop(function () { // Register a render loop to repeatedly render the scene
                    scene.render();
            });


            window.addEventListener("resize", function () { // Watch for browser/canvas resize events
                    engine.resize();
            });
    </script>

   </body>

</html>
